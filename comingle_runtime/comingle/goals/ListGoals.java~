package comingle.goals;

import java.util.List;
import java.util.LinkedList;
import java.util.ListIterator;
import java.util.Collections;

import comingle.facts.Fact;

public class ListGoals<F extends Fact> extends Goals<F> {

	private List<F> goals;

	public ListGoals() { 
		goals = Collections.synchronizedList(new LinkedList<F>());
		// goals = new LinkedList<F>();
	}

	public F next() {
		if(goals.size() > 0) {
			// return goals.pop();
			F f = goals.get(0);
			goals.remove(0);
			return f;
		} else {
			return null;
		}
	}

	public boolean has_goals() { return goals.size() > 0; }

	@Override
	public void add(F f) { 
		// goals.push(f); 
		goals.add(0, f);
	}

	@Override
	public void add(F f, int p) { add(f); }

	@Override
	public List<F> toList() { return goals; }

	public String toString() {
		String output = ""; // "========== List Goals ==========\n";
		ListIterator<F> ls = goals.listIterator();
		while(ls.hasNext()) {
			output += String.format("%s ",ls.next());
		}
		// output += "\n==================================";
		return output;
	}

}
